<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="lib/d3.min.js"></script>

    <!-- loading js files -->
    <script src="Stippling.js"></script>

    <!-- loading stylesheet -->
    <link rel="stylesheet" href="Styles.css">

</head>

<body onload="init()">

    <header>
        <h1>Stippling</h1>
        <h3>by Philip Ferenz & Alexandra Irger</h3>

        <p>Based on the Paper
            <a href="https://ieeexplore.ieee.org/document/8667696" target="_blank" rel="noopener noreferrer">
                »Stippling of 2D Scalar Fields«
            </a>
            by Görtler et al.
        </p>
    </header>
    <div class="row">
        <div class="menu">
            <h2>Parameters & Co</h2>
            [[Upload Function]]
        </div>

        <div class="stippling" id="stippling_output">
            <h2>Stippling Output</h2>
        </div>
    </div>

    <script>
        var width = Math.max(960, innerWidth),
            height = Math.max(500, innerHeight);

        var i = 0;

        var svg = d3.select("#stippling_output").append("svg")
            .attr("width", width)
            .attr("height", height);

        svg.append("rect")
            .attr("width", width)
            .attr("height", height)
            .on("ontouchstart" in document ? "touchmove" : "mousemove", particle);

        function particle(event) {
            var m = d3.pointer(event);

            svg.insert("circle", "rect")
                .attr("cx", m[0])
                .attr("cy", m[1])
                .attr("r", 1e-6)
                .style("stroke", d3.hsl((i = (i + 1) % 360), 1, .5))
                .style("stroke-opacity", 1)
                .transition()
                .duration(2000)
                .ease(Math.sqrt)
                .attr("r", 100)
                .style("stroke-opacity", 1e-6)
                .remove();
            event.preventDefault();
        }
    </script>


</body>
</html>